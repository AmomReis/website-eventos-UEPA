<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Administração</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/cadastroEventos.css">
</head>
<body>
<!-- Header -->
<header class="header">
    <div class="container">
        <div class="header-content">
            <div class="logo-section">
                <img src="images/img_3.png" alt="Logo UEPA" class="logo">
                <div class="logo-text">
                    <h1>Portal de Eventos Acadêmicos</h1>
                    <p>Universidade do Estado do Pará</p>
                </div>
            </div>
            <button class="btn-back" onclick="window.location.href='/'">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M19 12H5M12 19l-7-7 7-7"/>
                </svg>
                Voltar
            </button>
        </div>
    </div>
</header>
<div class="tab-content active" id="cadastrar-eventos">
    <div class="registration-form-container">
        <h2 class="form-title">Criar Evento</h2>

        <form id="registrationForm" class="registration-form">

            <div class="form-group">
                <label>Imagem do evento</label>
                <select id="urlBanner" required>
                    <option value="/images/img.png">Banner 1</option>
                    <option value="/images/img_1.png">Banner 2</option>
                    <option value="/images/img_2.png">Banner 3</option>
                    <option value="/images/img_3.png">Banner 4</option>
                </select>
            </div>

            <div class="form-group">
                <label>Título do evento</label>
                <input type="text" id="titleEvent" required>
            </div>

            <div class="form-group">
                <label>Descrição do evento</label>
                <textarea id="descriptionEvent" rows="4" required></textarea>
            </div>

            <div class="form-group">
                <label>Data do evento</label>
                <input type="date" id="dateEvent" required>
            </div>

            <div class="form-group">
                <label>Horário do evento</label>
                <input type="time" id="startEvent" required>
            </div>

            <div class="form-group">
                <label>Local do evento</label>
                <input type="text" id="locationEvent" required>
            </div>

            <button type="submit" class="btn-submit">
                Postar Evento
            </button>
        </form>
    </div>
</div>


<!-- Footer -->
<footer class="footer">
    <div class="container">
        <p>&copy; 2025 Universidade do Estado do Pará - Todos os direitos reservados</p>
        <p class="footer-subtitle">Portal de Eventos Acadêmicos</p>
    </div>
</footer>
<script>
    document.addEventListener("DOMContentLoaded", function () {

      document.getElementById("registrationForm").addEventListener("submit", function(e) {
        e.preventDefault();

        const evento = {
          titleEvent: document.getElementById("titleEvent").value,
          descriptionEvent: document.getElementById("descriptionEvent").value,
          dateEvent: document.getElementById("dateEvent").value,
          startEvent: document.getElementById("startEvent").value,
          locationEvent: document.getElementById("locationEvent").value,
          urlBanner: document.getElementById("urlBanner").value
        };

        fetch("http://localhost:8081/events", {
          method: "POST",
          headers: {
            "Content-Type": "application/json"
          },
          body: JSON.stringify(evento)
        })
        .then(res => {
          if (!res.ok) throw new Error("Erro ao salvar evento");
          return res.json();
        })
        .then(() => {
          window.location.href = "/index.html";
        })
        .catch(err => {
          console.error(err);
          alert("Erro ao cadastrar evento");
        });
      });

    });
</script>
</body>
</html>